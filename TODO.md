## 任务

2. 列出所有已安装的 TTS 引擎。可以使用TextToSpeech的getEngines()方法来获取已安装的 TTS 引擎列表，该方法返回一个List<EngineInfo>对象，其中每个EngineInfo对象包含了引擎的名称、包名等信息。

3. 将Android Studio中划黄线的代码修改一下。

4. 添加一个多语言界面，可以选择英语和中文

5. 中文与英文要加空格、数字与英文之间要加空格、数字与中文之间要加空格。

6. 使用
   
               public int speak (CharSequence text,
               int queueMode, 
               Bundle params, 
               String utteranceId)方法的返回值，判断是否成功，显示在UI上。

7. 弄一个可用语言列表、一个声音（voice）列表、TTS 引擎列表。
   
   可用语言列表包括语言的完整本地化名，如“英语（美国）”、语言标签字符串，如 "zh-CN"两列。  
   
   声音列表包括发音人的语言和地区（如 zh_CN、en_US）（getLocale方法）、发音人（Voice）的唯一名称（标识符）（如“en-us-x-sfg#male_1-local”）（getName方法）、是否需要联网（isNetworkConnectionRequired方法）、音质等级（如 Voice.QUALITY_HIGH）（getQuality方法）、发音人（Voice）合成语音时的“预期延迟”级别（getLatency方法）列，并且可以通过点击音质等级、延迟列的标题头来对列表进行排序。  
   
   TTS 引擎列表包括 TTS 引擎的图标（icon 字段）、TTS 引擎的名称（label 字段）、TTS 引擎的包名（name 字段）、默认的 TTS 引擎（getDefaultEngine方法）列，其中 TTS 引擎的图标（icon 字段）和 TTS 引擎的名称（label 字段）可以在同一列，并且可以通过点击名称列的标题头来对列表进行排序。
   
   可以左右滑动查看列表，点击列表中的项来设置当前使用的语言、声音、TTS 引擎。还可以点击列表中的列来固定显示某列，在左右滑动时，固定显示的列会一直显示在屏幕上。  

8. 给语速、音调、语言/发音人设置都添加一个说明，语速的比如：“1.00正常语速，>1.00……，<1.00……“；音调的类似；语言：”需要先选择语言，在选择发音人，每个语言有一个或多个发音人，并且有一个默认发音人，一个TTS引擎有一个默认语言。当获取不到默认发音人，使用系统默认语言，在下拉列表中显示（系统默认）而不是（默认），并且在Toast、状态信息中也会有相应的提示“

9. 利用isLanguageAvailable方法在语言下拉列表中显示语言的支持程度

10. 为所有的 Toast 设置一个独特并且与消息相关联的图标。

11. 写一个说明：当你发现想滚动到底部却又回到文本输入框的时候，可以点击除文本输入框外的任意位置让文本输入框失去焦点，此时就可以自由地上下滚动了。作为资深Android开发工程师的你也可以适当修改说明内容，使得其更专业、严谨、简洁。或者增加一个当滑动屏幕的时候就让edittext失去焦点

12. 软件使用说明：如果你不知道某些按钮的功能的时候，可以长按此按钮，会显示提示，不过有些明显知道其用途的按钮则不会有提示。

13. 为状态信息的“音频保存目录”提供一个复制路径的功能

14. 说明：朗读和保存音频不能同时进行

15. 使用getMaxSpeechInputLength方法获取最大朗读字数，并且朗读、保存为音频按钮增加判断逻辑，两个按钮使用同一个逻辑。

## 问题

1. TTS 初始化每次打开软件的时候会执行，如果在打开软件的情况下更改了系统TTS引擎的话，是不是软件的TTS引擎任然是更改之前到的，怎么做到实时同步系统TTS引擎的更改

2. 点击停止按钮也会停止保存音频

3. 有些第三方TTS引擎设置语速、音调没有作用

4. 不同的 TTS 引擎朗读、保存音频的速度不同，系统 TTS 引擎速度最快

5. 给软件一个专业的名字，并修改输出文件的默认保存名字

6. 项目完成后，清理项目没有的东西，比如，string.xml中没有使用的string；查看文件名是否贴切

7. 编辑器内状态栏的文字是白色的背景也是白色的，导致看不见时间等信息

8. 为什么点击主页面的其他区域的时候，语速、音调的滑块上的原点会跳一下

## 信息

此软件的主题色是 `#272727`，即深灰色（接近黑色），在项目中通常以 `@color/main_dark` 这个名称出现。在 `colors.xml` 中定义了：`  <color name="main_dark">#272727</color>`

主色调搭配为：`#272727`（深灰/黑）+ 白色（`#FFFFFF`）



```
我需要实现一个“文本转语音”App的音频保存功能，要求如下：
设置默认保存目录
用户可以通过点击“设置保存目录”按钮，选择一个目录作为音频文件的默认保存位置（使用SAF，持久化权限）。
选择后将目录Uri保存到SharedPreferences，后续无需每次都选择。
保存为音频
用户点击“保存为音频”按钮时，直接在默认保存目录下创建音频文件（如tts_output.wav），无需再弹出文件选择器。
合成流程为：先用TTS合成到App私有目录的临时文件，合成完成后再拷贝到用户指定目录。
合成完成后自动删除临时文件。
取消保存
合成过程中，用户可以点击“取消保存”按钮，立即停止TTS任务，并删除临时文件和默认保存目录下的目标音频文件（如tts_output.wav）。
删除操作要兼容Android 10+分区存储，使用DocumentFile API。
其它要求
所有文件操作、权限、状态、按钮可用性、Toast提示等要同步更新，体验专业、严谨。
允许用户随时重新设置保存目录。
请帮我自动实现上述“默认保存目录”功能，包含UI、持久化、TTS合成、文件拷贝与删除、状态管理等完整流程。
```