## TTS 引擎初始化失败

---

参考：

1. [TextToSpeech  |  API reference  |  Android Developers](https://developer.android.com/reference/android/speech/tts/TextToSpeech)

2. [Android原生开发TTS(Text To Speech)初始化失败的解决办法-腾讯云开发者社区-腾讯云](https://cloud.tencent.com/developer/article/2516111)

TTS 引擎初始化的作用是创建并准备好语音合成引擎实例，让 App 能够把文本转换成语音。只有初始化成功后，才能调用 `speak()`、`synthesizeToFile()` 等方法让 TTS 发声或生成音频，初始化前调用 `speak()` 等方法会报错或无效。  

**TTS 引擎初始化示例代码：**  

```java
TextToSpeech tts = new TextToSpeech(this, status -> {
    if (status == TextToSpeech.SUCCESS) {
        // 初始化成功，可以设置参数、启用朗读按钮
    } else {
        // 初始化失败，提示用户
    }
});
```

需要特别注意，在 Android 11 上需要加额外的权限：

```
<queries>
    <intent>
        <action android:name="android.intent.action.TTS_SERVICE" />
    </intent>
</queries>
```

否则会一直初始化失败。

## 语速与音调设置的兼容性

---

在不同的 TTS 引擎中，应用内设置的语速与音调并非总是有效，具体取决于引擎的实现与角色/语音的配置：

- **TTS Server**：只有在创建角色时将该角色的语速与音高设置为“跟随系统或朗读应用”时，应用内的语速与音调设置才会生效。
- **MultiTTS**：不论是离线还是在线语音包都不支持应用侧调整音调；此外，在线语音包通常不支持应用侧调整语速，因此语速设置可能不生效。

如发现设置不生效，建议：

- 在对应引擎的控制台或角色配置中直接调整语速/音高。
- 查阅相应引擎的官方文档，确认其对语速、音调参数的支持情况。
